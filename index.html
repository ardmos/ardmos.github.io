<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="https://puppystepsgames.com/steps-icon.png" type="image/x-icon">
    <title>PuppySteps Games | 퍼피스텝스게임즈</title>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap" rel="stylesheet">
</head>
<body>

  <!-- 헤더 -->
  <header>
    <div class="header-container">
      <a href="#" class="logo">
        <img src="toplogo.png" alt="puppysteps 로고">
      </a>
      <nav>
        <a href="#about">About</a>
        <a href="#service">Service</a>
        <a href="#works">Works</a>
        <a href="#clients">Clients</a>
        <a href="#team">Team</a>
      </nav>
    </div>
  </header>

  <!-- 히어로 섹션 -->
  <section class="hero">
    <div class="hero-content">
      <h1>Tiny steps, brave games.</h1>
      <p>PuppyStepsGames는 강아지의 발걸음에서 시작된 게임 스튜디오입니다.<br>
      우리는 작지만 따뜻한 한 걸음을 통해, 세상에 귀엽고 진심 어린 게임을 만들고자 합니다.</p>
    </div>
    <div class="hero-icons">
      <img src="steps-icon.png" alt="발바닥 아이콘" class="footprint-icon">
      <img src="steps-icon.png" alt="발바닥 아이콘" class="footprint-icon">
    </div>
  </section>

  <!-- Service 상세 모달들 -->
  <div id="modal-arvr" class="modal" aria-hidden="true" role="dialog" aria-modal="true">
    <div class="modal-overlay" data-modal-close></div>
    <div class="modal-dialog" role="document">
      <button class="modal-close" aria-label="닫기" data-modal-close>×</button>
      <h3>AR/VR</h3>
      <p>현장 업무와 전시·교육 목적에 최적화된 AR/VR 솔루션을 제공합니다. 기획 단계에서 사용자 흐름을 정의하고, 디바이스 특성에 맞춘 UX, 렌더링 최적화, 멀티플랫폼 배포까지 전 과정을 지원합니다.</p>
      <ul class="modal-list">
        <li>AR Foundation/VR SDK 기반 크로스 플랫폼</li>
        <li>공간 매핑·핸드 트래킹·멀티유저 동기화</li>
        <li>운영 대시보드·원격 업데이트 시스템</li>
      </ul>
    </div>
  </div>

  <div id="modal-simulator" class="modal" aria-hidden="true" role="dialog" aria-modal="true">
    <div class="modal-overlay" data-modal-close></div>
    <div class="modal-dialog" role="document">
      <button class="modal-close" aria-label="닫기" data-modal-close>×</button>
      <h3>시뮬레이터</h3>
      <p>실제 환경과 유사한 물리/시각 모델을 구축하여 안전 교육과 장비 운용 훈련을 고효율로 제공합니다. 하드웨어 센서·모션 플랫폼 연동 및 로그 분석까지 일괄 제공됩니다.</p>
      <ul class="modal-list">
        <li>현실 기반 물리 시뮬레이션 및 시나리오 스크립팅</li>
        <li>모션 시트·HMD·컨트롤러·IoT 연동</li>
        <li>훈련 데이터 기록·리포트 자동 생성</li>
      </ul>
    </div>
  </div>

  <div id="modal-game" class="modal" aria-hidden="true" role="dialog" aria-modal="true">
    <div class="modal-overlay" data-modal-close></div>
    <div class="modal-dialog" role="document">
      <button class="modal-close" aria-label="닫기" data-modal-close>×</button>
      <h3>2D/3D 게임</h3>
      <p>아이디어 검증부터 라이브 운영까지, 플랫폼별 최적화와 콘텐츠 업데이트 파이프라인을 갖춘 2D/3D 게임 개발 서비스를 제공합니다.</p>
      <ul class="modal-list">
        <li>모바일·PC·웹(웹GL) 동시 개발</li>
        <li>아트 파이프라인 및 빌드 자동화</li>
        <li>운영 지표 기반 밸런싱·이벤트 설계</li>
      </ul>
    </div>
  </div>

  <!-- About 섹션 -->
  <section id="about" class="about">
    <div class="about-container">
      <div class="about-content">
        <h2>
          <img src="steps-icon.png" alt="" class="section-icon">
          About
        </h2>
        <p class="about-lead">강아지의 발걸음처럼, 작고 소중한 재미를 만듭니다.</p>
        <p>안녕하세요, 퍼피스텝스게임즈입니다. 저희는 작은 강아지가 처음 세상을 향해 내딛는 발걸음, 그 순수한 설렘을 담아 시작된 게임 스튜디오입니다.</p>
        <p>크고 화려한 성공을 쫓기보다는, 한 걸음 한 걸음에 진심을 담아 모두에게 따스한 위로와 즐거움을 줄 수 있는 게임을 만들고자 합니다.</p>
        <p>다양한 프로젝트를 경험하며 다져온 탄탄한 기술력으로 귀엽고 사랑스러운 게임들을 선보입니다. 저희의 작은 발걸음이 여러분의 일상에 즐거움으로 남기를 바랍니다.</p>
      </div>
      <div class="about-image">
        <img src="About_Image1.png" alt="About 이미지">
      </div>
    </div>
  </section>

  <!-- Service 섹션 -->
  <section id="service" class="service">
    <div class="service-container">
      <h2>Service</h2>
      <div class="service-cards">
        <div class="service-card">
          <div class="card-image">
            <img src="arvr.png" alt="AR/VR 일러스트">
          </div>
          <h3>AR/VR</h3>
          <p>맞춤형 증강/가상현실 콘텐츠를 기획·개발합니다. 실감형 인터랙션과 퍼포먼스 최적화로 현장 적용까지 지원합니다.</p>
          <a href="#" class="card-link open-modal" data-modal="#modal-arvr">자세히 보기 →</a>
        </div>
        <div class="service-card">
          <div class="card-image">
            <img src="simulator.png" alt="시뮬레이터 일러스트">
          </div>
          <h3>시뮬레이터</h3>
          <p>교육·훈련·안전 분야를 위한 현실 기반 시뮬레이터를 제작합니다. 하드웨어 연동과 데이터 로깅 기능을 제공합니다.</p>
          <a href="#" class="card-link open-modal" data-modal="#modal-simulator">자세히 보기 →</a>
        </div>
        <div class="service-card">
          <div class="card-image">
            <img src="game.png" alt="게임 일러스트">
          </div>
          <h3>2D/3D 게임</h3>
          <p>모바일·PC·웹을 아우르는 2D/3D 게임을 개발합니다. 컨셉부터 출시·라이브 서비스까지 원스톱으로 진행합니다.</p>
          <a href="#" class="card-link open-modal" data-modal="#modal-game">자세히 보기 →</a>
        </div>
      </div>
    </div>
  </section>

  

  <!-- Works 섹션 -->
  <section id="works" class="news">
    <div class="news-container">
      <h2>Works</h2>
      <p>퍼피스텝스게임즈에서 자체 제작한 게임입니다.</p>
      
      <!-- Works 캐러셀 -->
      <div class="works-carousel">
        <button class="works-carousel-arrow works-carousel-prev" aria-label="이전">‹</button>
        <div class="works-carousel-track">
        <div class="news-card">
          <div class="news-image">
            <img src="Works1.png" alt="작품 썸네일">
          </div>
          <h3>포토포토그래퍼 (모바일게임)</h3>
          <p>사진 촬영과 퍼즐을 결합한 힐링 어드벤처. 다양한 로케이션을 탐험하며 순간을 수집하세요.</p>
          <button onclick="window.open('https://www.youtube.com/watch?v=_w_-lsVcmpM','_blank')">영상 보기</button>
        </div>
        <div class="news-card">
          <div class="news-image">
            <img src="Works2.png" alt="작품 썸네일">
          </div>
          <h3>Wizards and Knights (모바일게임)</h3>
          <p>마법사팀과 기사팀의 실시간 멀티플레이 대전 게임. 팀워크와 전략적 사고가 필요한 액션 RPG입니다.</p>
          <button onclick="window.open('https://www.youtube.com/watch?v=zjqmfqZdSvQ','_blank')">영상 보기</button>
        </div>
          <div class="news-card">
            <div class="news-image">
              <img src="Worksempty.png" alt="작품 썸네일">
            </div>
            <h3>NPC (PC게임)</h3>
            <p>도트 기반 스토리 PC 게임입니다. 가까운 미래시점을 배경으로, 게임을 플레이하다가 의문의 죽음을 맞은 한 남자에 얽힌 수수께끼를 풀어나가는 미스테리 추리 게임입니다.</p>
            <button onclick="window.open('https://www.youtube.com/watch?v=HInUm1h_87I&t=374s','_blank')">영상 보기</button>
          </div>
          <div class="news-card">
            <div class="news-image">
              <img src="Worksempty.png" alt="작품 썸네일">
            </div>
            <h3>지우개전쟁 (모바일게임)</h3>
            <p>2000년대 초등학교를 배경으로 한 추억의 게임. 지우개똥으로 전함을 만들고, 책상 위에서 아기자기한 전투를 벌이는 게임입니다.</p>
            <button onclick="window.open('https://www.youtube.com/watch?v=7s9jNbn3vv4','_blank')">영상 보기</button>
          </div>
          <div class="news-card">
            <div class="news-image">
              <img src="Worksempty.png" alt="작품 썸네일">
            </div>
            <h3>밀씨 드랍 (Seed drop) (PC게임)</h3>
            <p>지구 밖에서 밀씨를 떨어트려 바늘위에 꽂는 기상천외한 미션의 게임. - 제작중</p>
            <button onclick="alert('제작중입니다. 곧 공개될 예정입니다.')">공개예정</button>
          </div>
        </div>
        <button class="works-carousel-arrow works-carousel-next" aria-label="다음">›</button>
      </div>
    </div>
  </section>

  <!-- Clients 섹션 -->
  <section id="clients" class="testimonials">
    <div class="testimonials-container">
      <h2>Clients</h2>
      <p>아래 후기는 퍼피스텝스게임즈와 함께한 협력사들이 직접 남긴 실제 리뷰입니다.</p>
      <div class="testimonial-cards">
        <div class="testimonial-card">
          <div class="quote-icon">"</div>
          <p>정말 꼼꼼하시고 완성도 있는 결과물을 제작해주셔서 너무 감사드립니다.<br>
          앞으로도 게임은 개발자님과 함께 개발할거예요!<br>
          완벽한 작업 경험이었어요 너무 감사합니다.</p>
          <div class="testimonial-author">
            <div class="author-info">
              <h4>잼*** <span class="company-type">협력사</span></h4>
            </div>
          </div>
        </div>
        <div class="testimonial-card">
          <div class="quote-icon">"</div>
          <p>진행하면서 정말 만족스러운 경험이었습니다. 진심으로 감사드립니다! 작업 내내 친절하고 사려 깊은 소통을 해 주신 덕분에, 개발 기간 동안 매일이 따뜻한 기분이었습니다. 특히, 매일 진행 상황을 구체적으로 공유해 주셔서 프로젝트의 흐름을 명확하게 파악할 수 있었고, 아이디어를 함께 고민해 주신 덕분에 예상보다 훨씬 완성도 높은 게임이 탄생했다고 생각합니다.</p>
          <div class="testimonial-author">
            <div class="author-info">
              <h4>해**** <span class="company-type">협력사</span></h4>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- 고객사 로고 캐러셀 -->
    <div class="clients-carousel">
      <div class="carousel-title">
        <img src="steps-icon.png" alt="steps 아이콘" class="carousel-icon">
        <h3>OUR STEPS WITH</h3>
        <img src="steps-icon.png" alt="steps 아이콘" class="carousel-icon">
      </div>
      <div class="carousel-container">
        <button class="carousel-arrow carousel-prev" aria-label="이전">‹</button>
        <div class="carousel-track">
          <div class="carousel-item">
            <div class="client-logo">
              <img src="Clients1.png" alt="고객사 로고 1">
            </div>
          </div>
          <div class="carousel-item">
            <div class="client-logo">
              <img src="Clients2.png" alt="고객사 로고 2">
            </div>
          </div>
          <div class="carousel-item">
            <div class="client-logo">
              <img src="Clients3.jpg" alt="고객사 로고 3">
            </div>
          </div>
          <div class="carousel-item">
            <div class="client-logo">
              <img src="Clients4.png" alt="고객사 로고 4">
            </div>
          </div>
          <!-- <div class="carousel-item">
            <div class="client-logo">
              <img src="Clients5.png" alt="고객사 로고 5">
            </div>
          </div>
          <div class="carousel-item">
            <div class="client-logo">
              <img src="Clients6.png" alt="고객사 로고 6">
            </div>
          </div>
          <div class="carousel-item">
            <div class="client-logo">
              <img src="Clients7.png" alt="고객사 로고 7">
            </div>
          </div>
          <div class="carousel-item">
            <div class="client-logo">
              <img src="Clients8.png" alt="고객사 로고 8">
            </div>
          </div>
          -->
        </div>
        <button class="carousel-arrow carousel-next" aria-label="다음">›</button>
      </div>
    </div>
  </section>

  <!-- Team 섹션 -->
  <section id="team" class="team">
    <div class="team-container">
      <h2>Team</h2>
      <div class="team-members">
        <div class="team-member">
          <div class="member-avatar">
            <img src="team1.png" alt="팀원">
          </div>
          <h4>최영수</h4>
          <p class="team-role">CEO / programmer</p>
        </div>
        <div class="team-member">
          <div class="member-avatar">
            <img src="team2.png" alt="팀원">
          </div>
          <h4>김혜인</h4>
          <p class="team-role">designer</p>
        </div>
        <div class="team-member">
          <div class="member-avatar">
            <img src="team3.png" alt="팀원">
          </div>
          <h4>Andrey</h4>
          <p class="team-role">programmer</p>
        </div>
      </div>
    </div>
  </section>

  <!-- 푸터 -->
  <footer>
    <div class="footer-container">
      <div class="footer-left">
        <div class="footer-logo">
          <img src="logo.png" alt="로고">
        </div>
      </div>
      <div class="footer-center">
        <div class="footer-column">
          <h4>PuppyStepsGames 퍼피스텝스게임즈</h4>
          <ul>
            <li>이메일 contact@puppystepsgames.com</li>
            <li>대표 최영수</li>
            <li>© 2025 PuppyStepsGames. All rights reserved.</li>
          </ul>
        </div>
      </div>
      <div class="footer-right">
        <!-- 빈 공간 -->
      </div>
    </div>
  </footer>

  <script>
    (function() {
      var openButtons = document.querySelectorAll('.open-modal');
      var activeModal = null;

      function openModal(selector) {
        var modal = document.querySelector(selector);
        if (!modal) return;
        modal.classList.add('open');
        modal.setAttribute('aria-hidden', 'false');
        activeModal = modal;
      }

      function closeModal() {
        if (!activeModal) return;
        activeModal.classList.remove('open');
        activeModal.setAttribute('aria-hidden', 'true');
        activeModal = null;
      }

      openButtons.forEach(function(btn) {
        btn.addEventListener('click', function(e) {
          e.preventDefault();
          var target = btn.getAttribute('data-modal');
          openModal(target);
        });
      });

      document.addEventListener('click', function(e) {
        if (e.target && e.target.hasAttribute('data-modal-close')) {
          closeModal();
        }
      });

      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
          closeModal();
        }
      });

      // 부드러운 스크롤 네비게이션
      var navLinks = document.querySelectorAll('nav a[href^="#"]');
      navLinks.forEach(function(link) {
        link.addEventListener('click', function(e) {
          e.preventDefault();
          var targetId = this.getAttribute('href');
          var targetElement = document.querySelector(targetId);
          
          if (targetElement) {
            var headerHeight = document.querySelector('header').offsetHeight;
            var targetPosition = targetElement.offsetTop - headerHeight;
            
            // Works 섹션의 경우 추가 오프셋 적용
            if (targetId === '#works') {
              targetPosition += 40; // 40픽셀 아래로 조정 (10픽셀 추가)
            }
            
            window.scrollTo({
              top: targetPosition,
              behavior: 'smooth'
            });
          }
        });
      });

      // ========================================
      // 고객사 로고 캐러셀 기능 - 수정된 버전
      // ========================================
      
      // 1. HTML에서 캐러셀 관련 요소들을 찾아서 변수에 저장
      var carouselTrack = document.querySelector('.carousel-track');     // 캐러셀 아이템들이 들어있는 컨테이너
      var carouselItems = document.querySelectorAll('.carousel-item');   // 모든 캐러셀 아이템들 (배열)
      var prevBtn = document.querySelector('.carousel-prev');           // 이전 버튼
      var nextBtn = document.querySelector('.carousel-next');           // 다음 버튼
      
      // 2. 캐러셀 동작을 위한 변수들
      var currentIndex = 0;        // 현재 중앙에 있는 아이템의 번호 (0부터 시작)
      var itemWidth = 240;         // 각 아이템의 너비 + 아이템 사이 간격
      var isAnimating = false;     // 현재 애니메이션이 진행 중인지 확인하는 변수
      var isAutoMode = true;       // 자동으로 움직이는 모드인지 확인하는 변수
      var autoScrollTimer = null;  // 자동 스크롤을 위한 타이머
      var manualModeTimer = null;  // 수동 모드에서 자동 모드로 돌아가기 위한 타이머
      
      // ========================================
      // 3. 자동 스크롤 함수 (3초마다 자동으로 다음 아이템으로 이동)
      // ========================================
      function startAutoScroll() {
        // 자동 모드가 아니면 함수를 종료
        if (!isAutoMode) return;
        
        // 3초 후에 실행될 코드
        autoScrollTimer = setTimeout(function() {
          // 다시 한번 자동 모드인지 확인 (사용자가 수동으로 조작했을 수도 있으므로)
          if (!isAutoMode) return;
          
          // 다음 아이템으로 이동
          moveToNext();
          // 자기 자신을 다시 호출해서 계속 자동 스크롤이 되도록 함
          startAutoScroll();
        }, 3000); // 3000밀리초 = 3초
      }
      
      // ========================================
      // 4. 다음 아이템으로 이동하는 함수
      // ========================================
      function moveToNext() {
        // 현재 애니메이션이 진행 중이면 함수를 종료 (중복 실행 방지)
        if (isAnimating) return;
        
        // 현재 인덱스를 1 증가시키고, 아이템 개수를 넘어가면 0으로 돌아감
        // 예: 아이템이 4개(0,1,2,3)이고 현재가 3이면, 다음은 0이 됨
        currentIndex = (currentIndex + 1) % carouselItems.length;
        
        // 캐러셀 화면을 업데이트
        updateCarousel();
      }
      
      // ========================================
      // 5. 이전 아이템으로 이동하는 함수
      // ========================================
      function moveToPrev() {
        // 현재 애니메이션이 진행 중이면 함수를 종료 (중복 실행 방지)
        if (isAnimating) return;
        
        // 현재 인덱스를 1 감소시키고, 0보다 작아지면 마지막 아이템으로 이동
        // 예: 아이템이 4개(0,1,2,3)이고 현재가 0이면, 이전은 3이 됨
        currentIndex = currentIndex === 0 ? carouselItems.length - 1 : currentIndex - 1;
        
        // 캐러셀 화면을 업데이트
        updateCarousel();
      }
      
      // ========================================
      // 6. 캐러셀 화면을 업데이트하는 함수 (가장 중요한 함수!)
      // ========================================
      function updateCarousel() {
        // 현재 애니메이션이 진행 중이면 함수를 종료
        if (isAnimating) return;
        isAnimating = true; // 애니메이션 시작을 표시
        
        // ========================================
        // 6-1. 모든 아이템의 강조 효과를 제거 (작게 만들고 투명하게)
        // ========================================
        carouselItems.forEach(function(item) {
          // 각 아이템에서 로고 부분을 찾음
          var logo = item.querySelector('.client-logo');
          
          // 로고를 작게 만들고 투명하게 설정
          logo.style.opacity = '0.6';                    // 투명도 60% (어둡게)
          logo.style.transform = 'scale(0.8)';           // 크기를 80%로 축소
          logo.style.boxShadow = '0 4px 15px rgba(0,0,0,0.1)'; // 그림자 효과
          logo.style.transition = 'all 0.8s cubic-bezier(0.4, 0, 0.2, 1)'; // 부드러운 애니메이션
          
          // 로고 안의 이미지도 작게 설정
          var img = logo.querySelector('img');
          img.style.width = '120px';        // 이미지 너비
          img.style.height = '120px';       // 이미지 높이
          img.style.objectFit = 'cover';   // 이미지가 영역에 맞게 크롭
          img.style.borderRadius = '50%';  // 원형으로 만들기
          img.style.transition = 'all 0.8s cubic-bezier(0.4, 0, 0.2, 1)'; // 부드러운 애니메이션
        });

        // ========================================
        // 6-2. 현재 중앙에 있는 아이템을 강조 (크게 만들고 밝게)
        // ========================================
        var centerIndex = currentIndex; // 현재 선택된 아이템의 번호
        
        // 해당 아이템이 존재하는지 확인
        if (carouselItems[centerIndex]) {
          var centerLogo = carouselItems[centerIndex].querySelector('.client-logo');
          
          // 중앙 아이템을 크게 만들고 밝게 설정
          centerLogo.style.opacity = '1';                    // 투명도 100% (밝게)
          centerLogo.style.transform = 'scale(1.2)';        // 크기를 120%로 확대
          centerLogo.style.boxShadow = '0 12px 35px rgba(0,0,0,0.2)'; // 더 진한 그림자
          centerLogo.style.transition = 'all 0.8s cubic-bezier(0.4, 0, 0.2, 1)'; // 부드러운 애니메이션
          
          // 중앙 아이템의 이미지도 크게 설정
          var centerImg = centerLogo.querySelector('img');
          centerImg.style.width = '160px';        // 이미지를 더 크게
          centerImg.style.height = '160px';       // 이미지를 더 크게
          centerImg.style.objectFit = 'cover';   // 이미지가 영역에 맞게 크롭
          centerImg.style.borderRadius = '50%';  // 원형으로 만들기
          centerImg.style.transition = 'all 0.8s cubic-bezier(0.4, 0, 0.2, 1)'; // 부드러운 애니메이션
        }

        // ========================================
        // 6-3. 캐러셀 트랙을 이동시켜서 선택된 아이템이 중앙에 오도록 함
        // ========================================
        
        // 전체 아이템들의 중앙 위치를 계산
        var centerPosition = (carouselItems.length - 1) * itemWidth / 2;
        
        // 현재 선택된 아이템의 위치를 계산
        var targetPosition = currentIndex * itemWidth;
        
        // 중앙으로 이동시키기 위해 얼마나 이동해야 하는지 계산
        var translateX = centerPosition - targetPosition;
        
        // 실제로 캐러셀 트랙을 이동시킴
        carouselTrack.style.transform = 'translateX(' + translateX + 'px)';
        
        // 0.8초 후에 애니메이션 완료를 표시
        setTimeout(function() {
          isAnimating = false;
        }, 800);
      }
      
      // ========================================
      // 7. 수동 모드로 전환하는 함수 (사용자가 버튼을 클릭했을 때)
      // ========================================
      function switchToManualMode() {
        isAutoMode = false; // 자동 모드를 끔
        
        // 현재 실행 중인 자동 스크롤 타이머를 취소
        if (autoScrollTimer) {
          clearTimeout(autoScrollTimer);
          autoScrollTimer = null;
        }
        
        // 5초 후에 다시 자동 모드로 돌아가기 위한 타이머 설정
        if (manualModeTimer) {
          clearTimeout(manualModeTimer); // 기존 타이머가 있으면 취소
        }
        manualModeTimer = setTimeout(function() {
          isAutoMode = true;        // 자동 모드를 다시 켜기
          startAutoScroll();        // 자동 스크롤을 다시 시작
        }, 5000); // 5초 후에 실행
      }

      // ========================================
      // 8. 화살표 버튼에 클릭 이벤트 연결
      // ========================================
      if (prevBtn && nextBtn) {
        // 이전 버튼을 클릭했을 때
        prevBtn.addEventListener('click', function() {
          switchToManualMode(); // 수동 모드로 전환
          moveToPrev();         // 이전 아이템으로 이동
        });

        // 다음 버튼을 클릭했을 때
        nextBtn.addEventListener('click', function() {
          switchToManualMode(); // 수동 모드로 전환
          moveToNext();         // 다음 아이템으로 이동
        });
      }

      // ========================================
      // 9. 페이지가 로드되면 캐러셀을 초기화하고 자동 스크롤 시작
      // ========================================
      updateCarousel();    // 처음 화면을 그리기
      startAutoScroll();   // 자동 스크롤 시작
      
      // ========================================
      // 10. 터치 스와이프 기능 추가 (모바일)
      // ========================================
      var touchStartX = 0;
      var touchEndX = 0;
      var touchStartY = 0;
      var touchEndY = 0;
      
      // 터치 시작 지점 기록
      if (carouselTrack) {
        carouselTrack.addEventListener('touchstart', function(e) {
          touchStartX = e.changedTouches[0].screenX;
          touchStartY = e.changedTouches[0].screenY;
        }, { passive: true });
        
        // 터치 종료 시 스와이프 방향 판단
        carouselTrack.addEventListener('touchend', function(e) {
          touchEndX = e.changedTouches[0].screenX;
          touchEndY = e.changedTouches[0].screenY;
          handleClientsSwipe();
        }, { passive: true });
      }
      
      function handleClientsSwipe() {
        var diffX = touchStartX - touchEndX;
        var diffY = touchStartY - touchEndY;
        
        // 수평 스와이프가 수직 스와이프보다 크면 캐러셀 이동
        if (Math.abs(diffX) > Math.abs(diffY)) {
          // 최소 50px 이상 스와이프해야 인식
          if (Math.abs(diffX) > 50) {
            switchToManualMode(); // 수동 모드로 전환
            if (diffX > 0) {
              // 왼쪽으로 스와이프 -> 다음
              moveToNext();
            } else {
              // 오른쪽으로 스와이프 -> 이전
              moveToPrev();
            }
          }
        }
      }
    })();

    // Works 캐러셀 기능 - 독립적으로 작동 (반응형 개선)
    (function() {
      var worksCarousel = document.querySelector('.works-carousel');
      if (!worksCarousel) return;
      
      var worksTrack = worksCarousel.querySelector('.works-carousel-track');
      var worksCards = worksCarousel.querySelectorAll('.news-card');
      var prevBtn = worksCarousel.querySelector('.works-carousel-prev');
      var nextBtn = worksCarousel.querySelector('.works-carousel-next');
      
      var worksCurrentIndex = 0;
      var worksCardWidth = 0;
      var worksVisibleCards = 0;
      var worksMaxIndex = 0;
      
      // 현재 카드의 실제 너비를 계산하는 함수
      function calculateCardWidth() {
        if (worksCards.length > 0) {
          var card = worksCards[0];
          var cardStyle = window.getComputedStyle(card);
          var cardWidth = card.offsetWidth;
          var marginRight = parseInt(cardStyle.marginRight) || 0;
          // gap을 고려 (CSS에서 gap: 30px 사용)
          var gap = 30;
          return cardWidth + gap;
        }
        return 478; // 기본값 (448px + 30px gap)
      }
      
      // 화면 크기 변경 시 업데이트
      function updateWorksCarouselSize() {
        worksCardWidth = calculateCardWidth();
        var carouselWidth = worksCarousel.offsetWidth;
        
        // 작은 화면에서는 한 번에 1개씩, 큰 화면에서는 여러 개 표시
        if (window.innerWidth <= 480) {
          worksVisibleCards = 1;
        } else if (window.innerWidth <= 768) {
          worksVisibleCards = 1;
        } else if (window.innerWidth <= 1024) {
          worksVisibleCards = Math.max(1, Math.floor(carouselWidth / worksCardWidth));
        } else {
          worksVisibleCards = Math.max(1, Math.floor(carouselWidth / worksCardWidth));
        }
        
        worksMaxIndex = Math.max(0, worksCards.length - worksVisibleCards);
        
        // 현재 인덱스가 최대값을 넘지 않도록 조정
        if (worksCurrentIndex > worksMaxIndex) {
          worksCurrentIndex = worksMaxIndex;
        }
        
        updateWorksCarousel();
      }
      
      // 캐러셀 업데이트
      function updateWorksCarousel() {
        var translateX = -worksCurrentIndex * worksCardWidth;
        worksTrack.style.transform = 'translateX(' + translateX + 'px)';
        
        // 버튼 상태 업데이트
        if (prevBtn) prevBtn.style.opacity = worksCurrentIndex > 0 ? '1' : '0.5';
        if (nextBtn) nextBtn.style.opacity = worksCurrentIndex < worksMaxIndex ? '1' : '0.5';
      }
      
      // 이전으로 이동
      function moveWorksPrev() {
        if (worksCurrentIndex > 0) {
          worksCurrentIndex--;
          updateWorksCarousel();
        }
      }
      
      // 다음으로 이동
      function moveWorksNext() {
        if (worksCurrentIndex < worksMaxIndex) {
          worksCurrentIndex++;
          updateWorksCarousel();
        }
      }
      
      // 버튼 이벤트
      if (prevBtn) {
        prevBtn.addEventListener('click', moveWorksPrev);
      }
      
      if (nextBtn) {
        nextBtn.addEventListener('click', moveWorksNext);
      }
      
      // 화면 크기 변경 감지 (디바운싱 적용)
      var resizeTimer;
      window.addEventListener('resize', function() {
        clearTimeout(resizeTimer);
        resizeTimer = setTimeout(updateWorksCarouselSize, 100);
      });
      
      // 터치 스와이프 기능 추가
      var touchStartX = 0;
      var touchEndX = 0;
      var touchStartY = 0;
      var touchEndY = 0;
      
      worksCarousel.addEventListener('touchstart', function(e) {
        touchStartX = e.changedTouches[0].screenX;
        touchStartY = e.changedTouches[0].screenY;
      }, { passive: true });
      
      worksCarousel.addEventListener('touchend', function(e) {
        touchEndX = e.changedTouches[0].screenX;
        touchEndY = e.changedTouches[0].screenY;
        handleWorksSwipe();
      }, { passive: true });
      
      function handleWorksSwipe() {
        var diffX = touchStartX - touchEndX;
        var diffY = touchStartY - touchEndY;
        
        // 수평 스와이프가 수직 스와이프보다 크면 캐러셀 이동
        if (Math.abs(diffX) > Math.abs(diffY)) {
          // 최소 50px 이상 스와이프해야 인식
          if (Math.abs(diffX) > 50) {
            if (diffX > 0) {
              // 왼쪽으로 스와이프 -> 다음
              moveWorksNext();
            } else {
              // 오른쪽으로 스와이프 -> 이전
              moveWorksPrev();
            }
          }
        }
      }
      
      // 초기 설정
      updateWorksCarouselSize();
    })();
  </script>
</body>
</html>
